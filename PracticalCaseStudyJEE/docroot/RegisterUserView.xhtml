<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">
<h:head>
	<ui:param name="n" value="#{nif}" />
	#{UpdateUser.setNif(n)}
</h:head>
	<body>
		<h:panelGroup rendered="#{empty nif}">
			<h:form>
			<table>
				<tr>
					<td>
						Nif:
					</td>
					<td>
						<h:inputText label="Nif" required="true" value="#{AddUser.nif}"/>
					</td>
				</tr>
				<tr>
					<td>
						Name:
					</td>
					<td>
						<h:inputText label="Name" required="true" value="#{AddUser.name}"/>
					</td>
				</tr>
				<tr>
					<td>
						Surname:
					</td>
					<td>
						<h:inputText label="Surname" required="true" value="#{AddUser.surname}"/>
					</td>
				</tr>
				<tr>
					<td>
						Phone:
					</td>
					<td>
						<h:inputText label="Phone" required="true" value="#{AddUser.phone}"/>
					</td>
				</tr>
				<tr>
					<td>
						Password:
					</td>
					<td>
						<h:inputSecret label="Password" required="true" value="#{AddUser.password}"/>
					</td>
				</tr>
				<tr>
					<td>
						Email:
					</td>
					<td>
						<h:inputText label="Email" required="true" value="#{AddUser.email}"/>
					</td>
				</tr>
				<tr>
				<td><h:commandButton id="BotoRegistre" value="Registrar Usuari" action="#{AddUser.addUsr}" /></td>
				</tr>
				<tr>
					<td>
						<h:message for="BotoRegistre"/>
					</td>
				</tr>
				<tr>
					<td>
						<h:outputText value="#{AddUser.errorFormulari}" style="color:red"/>
					</td>
				</tr>
			</table>
			</h:form>
		</h:panelGroup>
		<h:panelGroup rendered="#{not empty nif}">
			#{UpdateUser.setFindUser()}
	 		<h:form>
			<table>
				<tr>
					<td>
						Nif:
					</td>
					<td>
						<h:inputText label="Nif" required="true" readonly="true" value="#{UpdateUser.nif}"/>
					</td>
				</tr>
				<tr>
					<td>
						Name:
					</td>
					<td>
						<h:inputText label="Name" required="true" value="#{UpdateUser.name}"/>
					</td>
				</tr>
				<tr>
					<td>
						Surname:
					</td>
					<td>
						<h:inputText label="Surname" required="true" value="#{UpdateUser.surname}"/>
					</td>
				</tr>
				<tr>
					<td>
						Phone:
					</td>
					<td>
						<h:inputText label="Phone" required="true" value="#{UpdateUser.phone}"/>
					</td>
				</tr>
				<tr>
					<td>
						Password:
					</td>
					<td>
						<h:inputText label="Password" required="true" value="#{UpdateUser.password}"/>
					</td>
				</tr>
				<tr>
					<td>
						Email:
					</td>
					<td>
						<h:inputText label="Email" required="true" value="#{UpdateUser.email}"/>
					</td>
				</tr>
				<tr>
				<td><h:commandButton id="BotoUpdate" value="Actualitzar dades" action="#{UpdateUser.updateUsr(UpdateUser.nif,UpdateUser.name,UpdateUser.surname,UpdateUser.phone,UpdateUser.password,UpdateUser.email)}" /></td>
				</tr>
				<tr>
					<td>
						<h:message for="BotoUpdate"/>
					</td>
				</tr>
				<tr>
					<td>
						<h:outputText value="#{UpdateUser.errorFormulari}" style="color:red"/>
					</td>
				</tr>
			</table>
			</h:form>
		</h:panelGroup>
	</body>
</html>