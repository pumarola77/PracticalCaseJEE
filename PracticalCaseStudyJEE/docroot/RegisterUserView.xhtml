<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html">

	<body>
		<h:panelGroup rendered="#{empty AddUser.nif and empty UpdateUser.nif}">
			<h:form>
			<table>
				<tr>
					<td>
						Nif:
					</td>
					<td>
						<h:inputText id="nif" label="Nif" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.nif}">
							<f:validator validatorId="NIFValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="nif" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
					<td>
						Name:
					</td>
					<td>
						<h:inputText id="name" label="Name" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.name}">
							<f:validator validatorId="ControlValorValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="name" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
					<td>
						Surname:
					</td>
					<td>
						<h:inputText id="surname" label="Surname" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.surname}">
							<f:validator validatorId="ControlValorValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="surname" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
					<td>
						Phone:
					</td>
					<td>
						<h:inputText id="phone" label="Phone" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.phone}">
							<f:validator validatorId="PhoneValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="phone" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
					<td>
						Password:
					</td>
					<td>
						<h:inputSecret id="password" label="Password" redisplay="true" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.password}">
							<f:validator validatorId="PasswordValidator"></f:validator>
							<f:attribute name="confirmaPassword" value="#{confirmaPassword}" />
						</h:inputSecret>
					</td>
					<td>
						<h:message for="password" style="color:red"></h:message>
					</td>					
				</tr>
				 <tr>
					<td>
						Torna a introduir el password:
					</td>
					<td>
						<h:inputSecret id="confirmaPassword" label="Password" redisplay="true" required="true" requiredMessage="Camp Obligatori" binding="#{confirmaPassword}"/>
					</td>
					<td>
						<h:message for="confirmaPassword" style="color:red"></h:message>
					</td>					
				</tr>
				<tr>
					<td>
						Email:
					</td>
					<td>
						<h:inputText id="email" label="Email" required="true" requiredMessage="Camp Obligatori" value="#{AddUser.email}">
							<f:validator validatorId="EmailValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="email" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
				<td>
				<h:commandButton id="BotoRegistre" value="Registrar Usuari" action="#{AddUser.addUsr(AddUser.nif,AddUser.name,AddUser.surname,AddUser.phone,AddUser.password,AddUser.email)}" />
				<h:commandButton id="Logout" value="Logout" action="#{LoginBean.logout()}" immediate="true" />
				</td>
				</tr>
				<tr>
					<td>
						<h:message for="BotoRegistre"/>
					</td>
				</tr>
				<tr>
					<td>
						<h:outputText value="#{AddUser.errorFormulari}" style="color:red"/>
					</td>
				</tr>
			</table>
			</h:form>
		</h:panelGroup>
		<h:panelGroup rendered="#{not empty UpdateUser.nif}">
			
	 		<h:form>
			<table>
				<tr>
					<td>
						Nif (Update):
					</td>
					<td>
						<h:inputText id="nif" label="Nif" required="true" requiredMessage="Camp Obligatori" readonly="true" value="#{UpdateUser.nif}" disabled="true"/>
					</td>
					<td>
						<h:message for="nif" style="color:red"></h:message>
					</td>
				</tr>
				<tr>
					<td>
						Name:
					</td>
					<td>
						<h:inputText id="name" label="Name" required="true" requiredMessage="Camp Obligatori" value="#{UpdateUser.name}">
							<f:validator validatorId="ControlValorValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="name" style="color:red"></h:message>
					</td>					
				</tr>
				<tr>
					<td>
						Surname:
					</td>
					<td>
						<h:inputText id="surname" label="Surname" required="true" requiredMessage="Camp Obligatori" value="#{UpdateUser.surname}">
							<f:validator validatorId="ControlValorValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="surname" style="color:red"></h:message>
					</td>
					
				</tr>
				<tr>
					<td>
						Phone:
					</td>
					<td>
						<h:inputText id="phone" label="Phone" required="true" requiredMessage="Camp Obligatori" value="#{UpdateUser.phone}">
							<f:validator validatorId="PhoneValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="phone" style="color:red"></h:message>
					</td>
					
				</tr>
				<tr>
					<td>
						Password:
					</td>
					<td>
						<h:inputSecret id="password" label="Password" required="true" requiredMessage="Camp Obligatori" redisplay="true" value="#{UpdateUser.password}">
							<f:validator validatorId="PasswordValidator"></f:validator>
							<f:attribute name="confirmaPassword" value="#{confirmaPassword}" />
						</h:inputSecret>
					</td>
					<td>
						<h:message for="password" style="color:red"></h:message>
					</td>					
				</tr>
				<tr>
					<td>
						Torna a introduir el password:
					</td>
					<td>
						<h:inputSecret id="confirmaPassword" label="Password" redisplay="true" required="true" requiredMessage="Camp Obligatori" binding="#{confirmaPassword}"/>
					</td>
					<td>
						<h:message for="confirmaPassword" style="color:red"></h:message>
					</td>					
				</tr>
				<tr>
					<td>
						Email:
					</td>
					<td>
						<h:inputText id="email" label="Email" required="true" requiredMessage="Camp Obligatori" value="#{UpdateUser.email}">
							<f:validator validatorId="EmailValidator"></f:validator>
						</h:inputText>
					</td>
					<td>
						<h:message for="email" style="color:red"></h:message>
					</td>
					
				</tr>
				<tr>
				<td><h:commandButton id="BotoUpdate" value="Actualitzar dades" action="#{UpdateUser.updateUsr(UpdateUser.nif,UpdateUser.name,UpdateUser.surname,UpdateUser.phone,UpdateUser.password,UpdateUser.email)}" /></td>
				<td><h:commandButton id="Home" value="Home ( Principal )" action="#{UpdateUser.Home}" immediate="true"/></td>
				</tr>
				<tr>
					<td>
						<h:message for="BotoUpdate"/>
					</td>
				</tr>
				<tr>
					<td>
						<h:outputText value="#{UpdateUser.errorFormulari}" style="color:red"/>
					</td>
				</tr>
			</table>
			</h:form>
		</h:panelGroup>
	</body>
</html>